#!/usr/bin/env bash

OLD_BUILD_SYSTEM="${BUILD_SYSTEM}"
BUILD_SYSTEM="$(dirname "$(readlink -f "$BASH_SOURCE")")"

if [ _${OLD_BUILD_SYSTEM} != _${BUILD_SYSTEM} ]; then
  export BUILD_SYSTEM
  . ${BUILD_ROOT}/variables.32

  COMMON_CMAKE_OPTIONS="-G;Ninja"
  COMMON_CMAKE_OPTIONS="$COMMON_CMAKE_OPTIONS;-DCMAKE_BUILD_TYPE=Release"
  COMMON_CMAKE_OPTIONS="$COMMON_CMAKE_OPTIONS;-DWITH_STATIC_RUNTIME=ON"
  export COMMON_CMAKE_OPTIONS

  COPASI_CMAKE_OPTIONS="-DBUILD_GUI=OFF"
  COPASI_CMAKE_OPTIONS="$COPASI_CMAKE_OPTIONS;-DCMAKE_BUILD_TYPE=${BUILD_TYPE}"
  export COPASI_CMAKE_OPTIONS

  DEPENDENCIES_CMAKE_OPTIONS="-DCMAKE_INSTALL_PREFIX=$(convertPath ${INSTALL_DIR})"
  DEPENDENCIES_CMAKE_OPTIONS="$DEPENDENCIES_CMAKE_OPTIONS;-DBUILD_clapack=OFF"
  DEPENDENCIES_CMAKE_OPTIONS="$DEPENDENCIES_CMAKE_OPTIONS;-DBUILD_NativeJIT=OFF"
  DEPENDENCIES_CMAKE_OPTIONS="$DEPENDENCIES_CMAKE_OPTIONS;-DBUILD_mml=OFF"
  DEPENDENCIES_CMAKE_OPTIONS="$DEPENDENCIES_CMAKE_OPTIONS;-DBUILD_qwt=OFF"
  DEPENDENCIES_CMAKE_OPTIONS="$DEPENDENCIES_CMAKE_OPTIONS;-DBUILD_qwtplot3d=OFF"
  export DEPENDENCIES_CMAKE_OPTIONS
fi
